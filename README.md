# lab6-refactoring

# Лабораторная работа 6: Рефакторинг и Code Smells

## Описание
В данной работе был проведен рефакторинг кода обработки заказов. 
Исходный код содержал несколько "запахов кода" (code smells), 
которые были устранены без изменения поведения программы.

## Найденные проблемы качества

### 1. **Длинная функция (Long Method)**
- Функция `process_checkout()` содержала 50+ строк
- Совмещала множество ответственностей

### 2. **Магические числа (Magic Numbers)**
- Проценты скидок: 0.10, 0.20, 0.05
- Пороговые значения: 200, 100, 50, 10
- Ставка налога: 0.21

### 3. **Сложные условные выражения**
- Много вложенных if/elif для расчета скидок
- Сложная логика условий

### 4. **Повторяющаяся логика**
- Множественные проверки валидации в одной функции

## Примененные рефакторинги

### 1. **Выделение функций (Extract Function)**
Созданы отдельные функции:
- `validate_request()` - валидация входных данных
- `calculate_subtotal()` - расчет суммы
- `calculate_discount()` - расчет скидки
- `calculate_tax_and_total()` - расчет налога и итога
- `generate_order_id()` - генерация ID заказа

### 2. **Замена магических чисел константами**
```python
DEFAULT_CURRENCY = "USD"
TAX_RATE = 0.21
DISCOUNT_10_PERCENT = 0.10
# и т.д.
